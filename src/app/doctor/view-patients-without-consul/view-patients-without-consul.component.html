<div class="container-fluid">
    <div class="list-group">
        <div *ngFor="let patient of patients">
            <button type="button" class="list-group-item list-group-item-action" (click)="provideConsultations()">Patient: {{ patient.name }}
            </button>
            <div *ngIf="clickedProvideConsultation">
                <div class="container-fluid">
                    <form class="alert alert-secondary" [formGroup]="consultationForm" (ngSubmit)="submitConsultation(patient.id)" novalidate>
                        <div class="form-group mr 2">
                            <label for="dosage">Dosage:</label>
                            <input class="form-control" type="text" id="dosage" formControlName="dosage"
                                placeholder="Enter dosage">
                        </div>
                        <div *ngIf="consultationForm.get('dosage').hasError('required') && consultationForm.get('dosage').touched"
                            class="text-danger">Enter dosage</div>
                        <div *ngIf="consultationForm.get('dosage').hasError('pattern') && consultationForm.get('dosage').touched"
                            class="text-danger">Only integers are allowed</div>
                
                        <div class="form-group mr 2">
                            <label for="prescriptionName">Prescription Name:</label>
                            <input class="form-control" type="text" id="prescriptionName" formControlName="prescriptionName"
                                placeholder="Enter prescription Name">
                        </div>
                        <div *ngIf="consultationForm.get('prescriptionName').hasError('required') && consultationForm.get('prescriptionName').touched"
                            class="text-danger">Enter Prescription Name</div>
                        <div *ngIf="consultationForm.get('prescriptionName').hasError('pattern') && consultationForm.get('prescriptionName').touched"
                            class="text-danger">Only characters are allowed</div>
                        <button class="btn btn-primary" [disabled]='consultationForm.invalid'>Add consultation</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>